/* One True Infotainment â€” Unified Canon Layout */
:root {
  --indigo:#071b36; --amber:#b80000; --cream:#faf5ef; --shadow:rgba(0,0,0,.08); --ticker-h:2.6rem;
}
* { box-sizing:border-box }
html,body { margin:0; padding:0 }
body { background:var(--cream); color:#111; font-family:system-ui,-apple-system,"Segoe UI",Helvetica,Arial,sans-serif; padding-top:var(--ticker-h) }

/* Ticker */
.ticker { position:fixed; top:0; left:0; right:0; z-index:10000; background:var(--amber); color:#fff; font-family:"Libre Baskerville",Georgia,serif; font-weight:700; overflow:hidden; border-bottom:2px solid rgba(0,0,0,.1); font-size:clamp(.9rem,.9vw + .6rem,1rem); line-height:1.2; min-height:var(--ticker-h) }
.ticker p { margin:0; padding:.45rem 0; display:inline-block; padding-left:100%; animation:ticker-scroll 46s linear infinite }
@keyframes ticker-scroll { from{transform:translateX(0)} to{transform:translateX(-100%)} }

/* Banner */
.site-header { background:var(--indigo) }
.banner-img { width:100%; display:block }

/* Page Layout */
.page { position:relative; max-width:1200px; margin:0 auto; padding:24px 16px 48px 260px }
.tafa-sidebar { position:absolute; top:24px; left:0; width:220px }
.ad-container-left { display:flex; align-items:center; justify-content:center; width:100%; background:#fff; border:1px solid var(--shadow); box-shadow:0 2px 6px var(--shadow); padding:8px; border-radius:8px }
.ad-container-left img { width:100%; object-fit:contain }

/* Grid */
.grid { display:grid; gap:1rem; grid-template-columns:1fr }
@media (min-width:701px){ .grid{ grid-template-columns:repeat(2,minmax(300px,1fr)) } }
@media (min-width:1100px){ .grid{ grid-template-columns:repeat(3,minmax(300px,1fr)) } }
.tile { background:#fff; border-radius:12px; overflow:hidden; box-shadow:0 2px 6px var(--shadow); transition:transform .2s ease }
.tile:hover { transform:translateY(-4px); box-shadow:0 8px 16px var(--shadow) }
.tile img { width:100%; height:150px; object-fit:cover }

/* Story Page */
.story-page article { max-width:900px; margin:2rem auto; padding:0 1rem; line-height:1.7; font-family:"Libre Baskerville",Georgia,serif }
.story-hero img { width:100%; border-radius:12px; box-shadow:0 6px 12px var(--shadow) }

/* Ad Row */
@keyframes ad-march { 0%{transform:translateX(0)} 100%{transform:translateX(-50%)} }
.ad-row { display:flex; flex-wrap:nowrap; overflow:hidden; background:var(--cream); padding:.5rem 0; animation:ad-march 60s linear infinite }
.ad-row:hover { animation-play-state:paused }
.ad-tile { flex:0 0 auto; margin:0 10px }
.index-page .ad-row { position:static; margin:2rem auto 0; max-width:100%; background:var(--cream); overflow:hidden }
@media (max-width:700px){ .ad-row { flex-direction:column; animation:none; overflow:visible } }

/* Footer */
.footer-banner { background:var(--cream); color:rgba(7,27,54,.6); font-family:"Libre Baskerville",Georgia,serif; font-size:.45rem; text-align:center; line-height:1.4; padding:1.5rem .5rem 1.75rem; border-top:1px solid var(--shadow); font-style:italic }

/* ===== Etta: Desktop density for large story counts ===== */
@media (min-width:1100px){
  .grid{
    grid-template-columns:repeat(3, minmax(260px, 1fr));
    gap:.9rem;
  }
  .tile img{ height:140px; }
  .tile h2{ font-size:clamp(1rem, .9vw + .55rem, 1.1rem); margin:.55rem 0.9rem .2rem; }
  .tile p{ font-size:clamp(.88rem, .35vw + .66rem, .98rem); margin:0 .9rem .9rem; }
}
@media (min-width:1400px){
  .grid{
    grid-template-columns:repeat(4, minmax(220px, 1fr));
  }
  .tile img{ height:120px; }
}

/* ===== Etta: Uniform text height for dense desktop grids ===== */
@media (min-width:1100px){
  .tile h2 {
    display:-webkit-box;
    -webkit-line-clamp:2;
    -webkit-box-orient:vertical;
    overflow:hidden;
    text-overflow:ellipsis;
    min-height:2.6em;
  }
  .tile p {
    display:-webkit-box;
    -webkit-line-clamp:3;
    -webkit-box-orient:vertical;
    overflow:hidden;
    text-overflow:ellipsis;
    min-height:3.8em;
  }
}

/* ===== Etta Hotfix: Ticker should be single-line, fixed height ===== */
.ticker{
  white-space: nowrap;
  height: var(--ticker-h);
  line-height: var(--ticker-h);
}
.ticker p{
  display: inline-block;
  white-space: nowrap;
  padding-left: 100%;
}
@media (prefers-reduced-motion: reduce){
  .ticker p{ animation: none; padding-left: 0; }
}

/* ===== Etta Fix: Scope left-rail rules to index only; mobile stack ===== */

/* Story pages never show the left rail */
.story-page .tafa-sidebar { display:none !important; }

/* Desktop (index only): fixed left rail + correct padding */
@media (min-width:701px){
  .index-page .page{ padding:24px 16px 48px 260px; }
  .index-page .tafa-sidebar{
    position:absolute;
    top:24px; left:0;
    width:220px; max-width:240px;
    z-index:1;
  }
  .index-page .tafa-sidebar img{
    display:block; width:100%; height:auto; max-width:100%;
    object-fit:contain;
    transform:scale(1.12); transform-origin:top;
  }
}

/* Mobile (index only): stack; bounded image; hide left ad */
@media (max-width:700px){
  .index-page .page{ padding:16px 12px 48px; }
  .index-page .tafa-sidebar{
    position:static; width:100%; max-width:320px;
    margin:0 auto 1rem; transform:none;
  }
  .index-page .tafa-sidebar img{
    transform:none;
    width:100%; height:auto; max-height:40vh;
    object-fit:contain;
  }
  .index-page .ad-container-left{ display:none; }
  .index-page .grid{ grid-template-columns:1fr; }
}
