/* ============================================================
   One True Infotainment â€” Canonical Style Sheet v159 (GAGS + fixed ticker)
   ============================================================ */

:root{
  --indigo:#071b36;
  --amber:#b80000;
  --cream:#faf5ef;
  --shadow:rgba(0,0,0,.08);
  --ticker-h:2.6rem;
}

*{box-sizing:border-box;margin:0;padding:0}
html,body{width:100%;height:auto}
body{
  background:var(--cream);
  color:#111;
  font-family:system-ui,-apple-system,"Segoe UI",Helvetica,Arial,sans-serif;
  padding-top:var(--ticker-h);
  overflow-x:hidden;
}

/* ===== Ticker ===== */
.ticker {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 999999;
  background: var(--amber);
  color: #fff;
  border-bottom: 2px solid rgba(0,0,0,.1);
  overflow: hidden;
  height: var(--ticker-h);
  line-height: var(--ticker-h);
  white-space: nowrap;
  font-family: "Libre Baskerville", Georgia, serif;
  font-weight: 700;
  font-size: clamp(.9rem, .9vw + .6rem, 1rem);
  pointer-events: none;
}
.ticker > * {
  display: inline-block;
  white-space: nowrap;
  padding-left: 100%;
  margin: 0;
  animation: ticker-scroll 46s linear infinite;
  color: #fff;
  pointer-events: none;
}
@keyframes ticker-scroll {
  from { transform: translateX(0); }
  to { transform: translateX(-100%); }
}
@media (prefers-reduced-motion: reduce) {
  .ticker > * {
    animation: none;
    padding-left: 0;
  }
}

/* ===== Banner ===== */
.site-header{background:var(--indigo);position:relative;z-index:1;}
.banner-img{width:100%;display:block}

/* ===== Page Layout (base) ===== */
.page{
  position:relative; max-width:1100px; margin:0 auto;
  padding:24px 16px 48px;
}

/* ===== Grid ===== */
.grid{
  display:grid; gap:.8rem;
  grid-template-columns:repeat(auto-fill,minmax(220px,1fr));
  position:relative; z-index:1;
}
.tile{
  background:#fff; border-radius:10px; overflow:hidden;
  box-shadow:0 2px 5px var(--shadow); transition:transform .2s ease;
}
.tile:hover{ transform:translateY(-3px); box-shadow:0 6px 12px var(--shadow); }
.tile img{ width:100%; height:130px; object-fit:cover; display:block; }
.tile a{ color:inherit; text-decoration:none; display:block; }

/* ===== Breaking ===== */
.index-page .grid{grid-auto-flow:dense;}
.tile.breaking{position:relative; border:2px solid var(--amber)}
.tile.breaking .breaking-pill{
  position:absolute; top:8px; left:8px; z-index:2;
  background:var(--amber); color:#fff; font-weight:700; font-size:.7rem;
  padding:.25rem .5rem; border-radius:6px; box-shadow:0 2px 4px var(--shadow); text-transform:uppercase;
}
@media(max-width:700px){ .tile.breaking .breaking-pill{font-size:.6rem; padding:.2rem .4rem;} }

/* ===== Story Page ===== */
.story-page article{
  max-width:940px; margin:2rem auto; padding:0 .75rem;
  line-height:1.7; font-family:"Libre Baskerville",Georgia,serif;
}
.story-hero img{ width:100%; border-radius:12px; box-shadow:0 6px 12px var(--shadow); }
.story-hero.wrap-left{ float:left; width:min(360px,48%); margin:.25rem 1rem .75rem 0; }
.story-hero figcaption{ font-style:italic; color:rgba(7,27,54,.75); font-size:.9rem; margin-top:.4rem; }
.byline,.dateline{ font-family:"Libre Baskerville",Georgia,serif; color:rgba(7,27,54,.8); margin:.25rem 0; font-size:.9rem; }
.dateline{ font-style:italic; color:rgba(7,27,54,.65) }

/* ===== Footer ===== */
.footer-banner{
  background:var(--cream); color:rgba(7,27,54,.6);
  font-family:"Libre Baskerville",Georgia,serif;
  font-size:.45rem; text-align:center; line-height:1.4;
  padding:1.5rem .5rem 1.75rem; border-top:1px solid var(--shadow);
  font-style:italic;
}

/* ===== Mobile: Bottom Gags Dock ===== */
@media (max-width:700px){
  #gags-rail{ display:none; }
  #gags-dock{
    position:fixed; left:0; right:0; bottom:0;
    background:transparent; padding:.4rem .5rem; z-index:5000;
  }
  #gags-dock .gag-track{
    display:flex; flex-wrap:nowrap; gap:2px;
    overflow-x:auto; overflow-y:hidden; background:transparent;
    -webkit-overflow-scrolling:touch; scroll-snap-type:x proximity;
  }
  #gags-dock .gag-tile{ flex:0 0 auto; width:160px; scroll-snap-align:start; }
  body{ padding-bottom:84px; }
}

/* ===== GLOBAL BOTTOM DOCK OVERRIDES (Always-on) ===== */
#gags-rail { display: none !important; }

#gags-dock {
  position: fixed !important;
  left: 0; right: 0; bottom: 0;
  background: transparent;
  padding: .4rem .5rem;
  z-index: 5000;
  display: block !important;
  padding-bottom: calc(.4rem + env(safe-area-inset-bottom));
}

html body {
  padding-bottom: calc(84px + env(safe-area-inset-bottom)) !important;
}

#gags-dock .gag-track {
  display: flex;
  flex-wrap: nowrap;
  gap: 2px; /* Thin visual buffer between gag tiles */
  overflow-x: auto;
  overflow-y: hidden;
  -webkit-overflow-scrolling: touch;
  scroll-snap-type: x proximity;
  overscroll-behavior: contain;
}

#gags-dock .gag-tile {
  flex: 0 0 auto;
  width: 160px;
  scroll-snap-align: start;
}

#gags-dock .gag-img {
  aspect-ratio: 16 / 9;
  height: auto;
  object-fit: contain;
  background: rgba(0,0,0,.02);
  box-shadow: 0 2px 4px var(--shadow);
}

/* Hide dock in print view */
@media print {
  #gags-dock { display: none !important; }
  html body { padding-bottom: 0 !important; }
}
